<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>kNN — kNN • MissImp</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="kNN — kNN"><meta property="og:description" content="k-Nearest Neighbour Imputation based on a variation of the Gower Distance
for numerical, categorical, ordered and semi-continous variables.
The original function is kNN in package VIM by Alexander Kowarik and Statistik Austria
Here only the difference will be explained. In kNN, not only the imputed result will be returned, but also
 the disjunctive imputed result. For each observation of one categorical column, the value of the Nearest Neighbors will be recorded,
 and with this values, the probability vector for each category is constructed."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MissImp</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/A_Generate_Missingness_and_Tests_MCAR.html">Generation of Missingness and Tests of MCAR</a>
    </li>
    <li>
      <a href="../articles/B_MissImp_Test.html">MissImp Test</a>
    </li>
    <li>
      <a href="../articles/C_Each_Imputation_Method.html">Imputation for each method</a>
    </li>
    <li>
      <a href="../articles/D_oracle_simple_test.html">Oracle Simple Test</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>kNN</h1>
    
    <div class="hidden name"><code>kNN.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>k-Nearest Neighbour Imputation based on a variation of the Gower Distance
for numerical, categorical, ordered and semi-continous variables.
The original function is kNN in package VIM by Alexander Kowarik and Statistik Austria
Here only the difference will be explained. In <code>kNN</code>, not only the imputed result will be returned, but also
 the disjunctive imputed result. For each observation of one categorical column, the value of the Nearest Neighbors will be recorded,
 and with this values, the probability vector for each category is constructed.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">kNN</span><span class="op">(</span>
  <span class="va">data</span>,
  variable <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span>,
  metric <span class="op">=</span> <span class="cn">NULL</span>,
  k <span class="op">=</span> <span class="fl">5</span>,
  dist_var <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span>,
  weights <span class="op">=</span> <span class="cn">NULL</span>,
  numFun <span class="op">=</span> <span class="fu">stats</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/r/stats/median.html" class="external-link">median</a></span>,
  catFun <span class="op">=</span> <span class="fu">VIM</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/VIM/man/maxCat.html" class="external-link">maxCat</a></span>,
  makeNA <span class="op">=</span> <span class="cn">NULL</span>,
  NAcond <span class="op">=</span> <span class="cn">NULL</span>,
  impNA <span class="op">=</span> <span class="cn">TRUE</span>,
  donorcond <span class="op">=</span> <span class="cn">NULL</span>,
  mixed <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">vector</a></span><span class="op">(</span><span class="op">)</span>,
  mixed.constant <span class="op">=</span> <span class="cn">NULL</span>,
  trace <span class="op">=</span> <span class="cn">FALSE</span>,
  imp_var <span class="op">=</span> <span class="cn">TRUE</span>,
  imp_suffix <span class="op">=</span> <span class="st">"imp"</span>,
  addRF <span class="op">=</span> <span class="cn">FALSE</span>,
  onlyRF <span class="op">=</span> <span class="cn">FALSE</span>,
  addRandom <span class="op">=</span> <span class="cn">FALSE</span>,
  useImputedDist <span class="op">=</span> <span class="cn">TRUE</span>,
  weightDist <span class="op">=</span> <span class="cn">FALSE</span>,
  col_cat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data</dt>
<dd><p>data.frame or matrix</p></dd>
<dt>variable</dt>
<dd><p>variables where missing values should be imputed</p></dd>
<dt>metric</dt>
<dd><p>metric to be used for calculating the distances between</p></dd>
<dt>k</dt>
<dd><p>number of Nearest Neighbours used</p></dd>
<dt>dist_var</dt>
<dd><p>names or variables to be used for distance calculation</p></dd>
<dt>weights</dt>
<dd><p>weights for the variables for distance calculation.
If `weights = "auto"` weights will be selected based on variable importance from random forest regression, using function [ranger::ranger()].
Weights are calculated for each variable seperately.</p></dd>
<dt>numFun</dt>
<dd><p>function for aggregating the k Nearest Neighbours in the case
of a numerical variable</p></dd>
<dt>catFun</dt>
<dd><p>function for aggregating the k Nearest Neighbours in the case
of a categorical variable</p></dd>
<dt>makeNA</dt>
<dd><p>list of length equal to the number of variables, with values, that should be converted to NA for each variable</p></dd>
<dt>NAcond</dt>
<dd><p>list of length equal to the number of variables, with a condition for imputing a NA</p></dd>
<dt>impNA</dt>
<dd><p>TRUE/FALSE whether NA should be imputed</p></dd>
<dt>donorcond</dt>
<dd><p>condition for the donors e.g. list("&gt;5"), must be NULL or a list of same length as variable</p></dd>
<dt>mixed</dt>
<dd><p>names of mixed variables</p></dd>
<dt>mixed.constant</dt>
<dd><p>vector with length equal to the number of
semi-continuous variables specifying the point of the semi-continuous
distribution with non-zero probability</p></dd>
<dt>trace</dt>
<dd><p>TRUE/FALSE if additional information about the imputation
process should be printed</p></dd>
<dt>imp_var</dt>
<dd><p>TRUE/FALSE if a TRUE/FALSE variables for each imputed
variable should be created show the imputation status</p></dd>
<dt>imp_suffix</dt>
<dd><p>suffix for the TRUE/FALSE variables showing the imputation
status</p></dd>
<dt>addRF</dt>
<dd><p>TRUE/FALSE each variable will be modelled using random forest regression ([ranger::ranger()]) and used as additional distance variable.</p></dd>
<dt>onlyRF</dt>
<dd><p>TRUE/FALSE if TRUE only additional distance variables created from random forest regression will be used as distance variables.</p></dd>
<dt>addRandom</dt>
<dd><p>TRUE/FALSE if an additional random variable should be added
for distance calculation</p></dd>
<dt>useImputedDist</dt>
<dd><p>TRUE/FALSE if an imputed value should be used for distance calculation for imputing another variable.
Be aware that this results in a dependency on the ordering of the variables.</p></dd>
<dt>weightDist</dt>
<dd><p>TRUE/FALSE if the distances of the k nearest neighbours should be used as weights in the
aggregation step</p></dd>
<dt>col_cat</dt>
<dd><p>Column indices for categorical columns</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p><code>ximp</code> The imputed data set.
<code>ximp.disj</code> The imputed data set with categorical columns in onehot form.
<code>R.mask</code> The indicator matrix of missingness/imputation.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>A. Kowarik, M. Templ (2016) Imputation with
R package VIM.  *Journal of
Statistical Software*, 74(7), 1-16.</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Adrien Ehrhardt.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

